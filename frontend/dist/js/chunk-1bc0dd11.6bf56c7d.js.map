{"version":3,"sources":["webpack:///./src/views/Agents/AgentList.vue?456d","webpack:///./src/views/Agents/AgentList.vue","webpack:///src/views/Agents/AgentList.vue","webpack:///./src/views/Agents/AgentList.vue?f34b","webpack:///./src/views/Agents/AgentList.vue?0fc4"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","loading","on","handleCheckAgentsStatus","refreshAgents","_e","error","_s","mainAgents","length","_l","agent","key","id","class","status","name","getStatusVariant","getStatusText","formatDuration","running_time","$event","handleCancelAgent","cpu_usage","getResourceVariant","cpu_cores","available_cpu_cores","gpu_ids","gpu_usage","gpu","index","usage","memory_used","memory_total","getSubAgentsByMainId","subAgent","task_id","showCreateAgentModal","newAgentName","newAgentCpuCores","handleCreateMainAgent","model","value","callback","$$v","expression","_n","newAgentGpuIds","staticRenderFns","data","pollingEnabled","computed","mapState","mapGetters","mainAgentId","subAgents","filter","main_agent_id","methods","mapActions","fetchAgents","$bvToast","toast","title","variant","solid","gpuIds","split","map","trim","createMainAgent","$bvModal","hide","agentId","msgBoxConfirm","okVariant","okTitle","cancelTitle","cancelAgent","checkAgentsStatus","show","statusMap","variantMap","seconds","duration","moment","days","hours","minutes","secs","result","created","pollingTimeout","setTimeout","beforeDestroy","clearTimeout","component"],"mappings":"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","file":"js/chunk-1bc0dd11.6bf56c7d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=style&index=0&id=6c8a05dc&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-list\"},[_c('h3',{staticClass:\"mb-4\"},[_vm._v(\"Agent管理\")]),_c('div',{staticClass:\"d-flex justify-content-end mb-3\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"outline-secondary\",\"disabled\":_vm.loading},on:{\"click\":_vm.handleCheckAgentsStatus}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"arrow-repeat\"}}),_vm._v(\" 检查Agent状态 \")],1),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.refreshAgents}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"arrow-clockwise\"}}),_vm._v(\" 刷新列表 \")],1)],1),(_vm.loading)?_c('div',{staticClass:\"text-center py-5\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"加载中...\"}}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"加载Agent信息...\")])],1):_vm._e(),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\",\"dismissible\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),(!_vm.loading && _vm.mainAgents.length === 0)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"info\"}},[_vm._v(\" 暂无Agent信息。您可以创建一个主Agent来开始任务调度系统。 \"),_c('div',{staticClass:\"mt-2\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.showCreateAgentModal}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}}),_vm._v(\" 创建主Agent \")],1)],1)]):_c('div',{staticClass:\"agent-tree\"},_vm._l((_vm.mainAgents),function(agent){return _c('div',{key:agent.id,staticClass:\"mb-4\"},[_c('b-card',{class:['main-agent-card', { 'offline': agent.status === 'offline' }],attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\"}},[_vm._v(\"主\")]),_c('strong',[_vm._v(_vm._s(agent.name))]),_c('span',{staticClass:\"text-muted ml-2\"},[_vm._v(\"(ID: \"+_vm._s(agent.id)+\")\")])],1),_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":_vm.getStatusVariant(agent.status)}},[_vm._v(\" \"+_vm._s(_vm.getStatusText(agent.status))+\" \")]),_c('small',{staticClass:\"text-muted\"},[_c('b-icon',{attrs:{\"icon\":\"clock\"}}),_vm._v(\" 运行时长: \"+_vm._s(_vm.formatDuration(agent.running_time))+\" \")],1),(agent.status !== 'offline' && agent.status !== 'canceled')?_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.handleCancelAgent(agent.id)}}},[_vm._v(\" 取消 \")]):_vm._e()],1)]),_c('b-card-body',[_c('div',{staticClass:\"resource-section mb-3\"},[_c('h6',{staticClass:\"mb-2\"},[_vm._v(\"CPU资源\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('strong',{staticClass:\"mr-2\"},[_vm._v(\"使用率:\")]),_c('b-progress',{staticClass:\"flex-grow-1\",attrs:{\"value\":agent.cpu_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(agent.cpu_usage || 0),\"show-progress\":\"\",\"height\":\"1.5rem\"}},[_c('span',[_vm._v(_vm._s(agent.cpu_usage || 0)+\"%\")])])],1),_c('div',{staticClass:\"mt-2\"},[_c('strong',[_vm._v(\"核心数:\")]),_vm._v(\" \"+_vm._s(agent.cpu_cores || 0)+\" 核 (可用: \"+_vm._s(agent.available_cpu_cores || 0)+\" 核) \")])]),(agent.gpu_ids && agent.gpu_ids.length > 0)?_c('div',{staticClass:\"resource-section\"},[_c('h6',{staticClass:\"mb-2\"},[_vm._v(\"GPU资源\")]),_vm._l((agent.gpu_usage || []),function(gpu,index){return _c('div',{key:index,staticClass:\"mb-2\"},[_c('strong',[_vm._v(\"GPU \"+_vm._s(agent.gpu_ids[index] || index)+\":\")]),_c('div',{staticClass:\"d-flex mt-1\"},[_c('div',{staticClass:\"mr-3 text-nowrap\"},[_c('small',[_vm._v(\"使用率:\")])]),_c('b-progress',{staticClass:\"flex-grow-1 mr-3\",attrs:{\"value\":gpu.usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(gpu.usage || 0),\"show-progress\":\"\"}},[_c('span',[_vm._v(_vm._s(gpu.usage || 0)+\"%\")])])],1),_c('div',{staticClass:\"d-flex mt-1\"},[_c('div',{staticClass:\"mr-3 text-nowrap\"},[_c('small',[_vm._v(\"显存:\")])]),_c('b-progress',{staticClass:\"flex-grow-1 mr-3\",attrs:{\"value\":gpu.memory_used || 0,\"max\":gpu.memory_total || 1,\"variant\":\"success\",\"show-progress\":\"\"}},[_c('span',[_vm._v(_vm._s(gpu.memory_used || 0)+\" / \"+_vm._s(gpu.memory_total || 0)+\" MB\")])])],1)])}),(!agent.gpu_usage || agent.gpu_usage.length === 0)?_c('div',{staticClass:\"text-muted\"},[_vm._v(\" 无GPU使用数据 \")]):_vm._e()],2):_vm._e()])],1),_c('div',{staticClass:\"sub-agents ml-5 mt-2\"},[_vm._l((_vm.getSubAgentsByMainId(agent.id)),function(subAgent){return _c('div',{key:subAgent.id,staticClass:\"mb-2\"},[_c('b-card',{class:['sub-agent-card', { 'offline': subAgent.status === 'offline' }],attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex justify-content-between align-items-center py-2\"},[_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":\"info\"}},[_vm._v(\"子\")]),_c('strong',[_vm._v(_vm._s(subAgent.name))]),_c('span',{staticClass:\"text-muted ml-2\"},[_vm._v(\"(ID: \"+_vm._s(subAgent.id)+\")\")])],1),_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":_vm.getStatusVariant(subAgent.status)}},[_vm._v(\" \"+_vm._s(_vm.getStatusText(subAgent.status))+\" \")]),(subAgent.task_id)?_c('small',{staticClass:\"text-muted mr-2\"},[_c('b-icon',{attrs:{\"icon\":\"card-list\"}}),_vm._v(\" 任务ID: \"),_c('b-link',{attrs:{\"to\":`/tasks/${subAgent.task_id}`}},[_vm._v(_vm._s(subAgent.task_id))])],1):_vm._e(),_c('small',{staticClass:\"text-muted\"},[_c('b-icon',{attrs:{\"icon\":\"clock\"}}),_vm._v(\" 运行时长: \"+_vm._s(_vm.formatDuration(subAgent.running_time))+\" \")],1),(subAgent.status !== 'offline' && subAgent.status !== 'canceled')?_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.handleCancelAgent(subAgent.id)}}},[_vm._v(\" 取消 \")]):_vm._e()],1)]),_c('b-card-body',{staticClass:\"py-2\"},[(subAgent.gpu_ids && subAgent.gpu_ids.length > 0)?_c('div',_vm._l((subAgent.gpu_usage || []),function(gpu,index){return _c('div',{key:index,staticClass:\"mb-1\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('small',{staticClass:\"text-nowrap mr-2\"},[_vm._v(\"GPU \"+_vm._s(subAgent.gpu_ids[index] || index)+\":\")]),_c('b-progress',{staticClass:\"flex-grow-1\",attrs:{\"value\":gpu.usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(gpu.usage || 0),\"height\":\"0.5rem\"}}),_c('small',{staticClass:\"ml-2\"},[_vm._v(_vm._s(gpu.usage || 0)+\"%\")])],1)])}),0):_vm._e(),_c('div',{staticClass:\"d-flex align-items-center mt-1\"},[_c('small',{staticClass:\"text-nowrap mr-2\"},[_vm._v(\"CPU使用率:\")]),_c('b-progress',{staticClass:\"flex-grow-1\",attrs:{\"value\":subAgent.cpu_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(subAgent.cpu_usage || 0),\"height\":\"0.5rem\"}}),_c('small',{staticClass:\"ml-2\"},[_vm._v(_vm._s(subAgent.cpu_usage || 0)+\"%\")])],1)])],1)],1)}),(_vm.getSubAgentsByMainId(agent.id).length === 0)?_c('div',{staticClass:\"text-muted ml-2 mt-2\"},[_c('small',[_vm._v(\"暂无子Agent\")])]):_vm._e()],2)],1)}),0),_c('b-modal',{attrs:{\"id\":\"create-agent-modal\",\"title\":\"创建主Agent\",\"ok-title\":\"创建\",\"cancel-title\":\"取消\",\"ok-disabled\":!_vm.newAgentName || !_vm.newAgentCpuCores},on:{\"ok\":_vm.handleCreateMainAgent}},[_c('b-form-group',{attrs:{\"label\":\"Agent名称\",\"label-for\":\"agent-name\"}},[_c('b-form-input',{attrs:{\"id\":\"agent-name\",\"required\":\"\",\"placeholder\":\"请输入Agent名称\"},model:{value:(_vm.newAgentName),callback:function ($$v) {_vm.newAgentName=$$v},expression:\"newAgentName\"}})],1),_c('b-form-group',{attrs:{\"label\":\"CPU核心数\",\"label-for\":\"cpu-cores\"}},[_c('b-form-input',{attrs:{\"id\":\"cpu-cores\",\"type\":\"number\",\"min\":\"1\",\"required\":\"\",\"placeholder\":\"分配的CPU核心数\"},model:{value:(_vm.newAgentCpuCores),callback:function ($$v) {_vm.newAgentCpuCores=_vm._n($$v)},expression:\"newAgentCpuCores\"}})],1),_c('b-form-group',{attrs:{\"label\":\"GPU ID列表 (可选)\",\"label-for\":\"gpu-ids\",\"description\":\"多个GPU ID使用逗号分隔\"}},[_c('b-form-input',{attrs:{\"id\":\"gpu-ids\",\"placeholder\":\"例如: 0,1,2\"},model:{value:(_vm.newAgentGpuIds),callback:function ($$v) {_vm.newAgentGpuIds=$$v},expression:\"newAgentGpuIds\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"agent-list\">\n    <h3 class=\"mb-4\">Agent管理</h3>\n    \n    <!-- 刷新和检查状态按钮 -->\n    <div class=\"d-flex justify-content-end mb-3\">\n      <b-button \n        variant=\"outline-secondary\" \n        class=\"mr-2\" \n        @click=\"handleCheckAgentsStatus\"\n        :disabled=\"loading\"\n      >\n        <b-icon icon=\"arrow-repeat\" class=\"mr-1\"></b-icon>\n        检查Agent状态\n      </b-button>\n      <b-button \n        variant=\"outline-primary\" \n        @click=\"refreshAgents\"\n        :disabled=\"loading\"\n      >\n        <b-icon icon=\"arrow-clockwise\" class=\"mr-1\"></b-icon>\n        刷新列表\n      </b-button>\n    </div>\n    \n    <!-- 加载中提示 -->\n    <div v-if=\"loading\" class=\"text-center py-5\">\n      <b-spinner variant=\"primary\" label=\"加载中...\"></b-spinner>\n      <p class=\"mt-2\">加载Agent信息...</p>\n    </div>\n    \n    <!-- 错误提示 -->\n    <b-alert v-if=\"error\" show variant=\"danger\" dismissible>\n      {{ error }}\n    </b-alert>\n    \n    <!-- 无Agent提示 -->\n    <b-alert v-if=\"!loading && mainAgents.length === 0\" show variant=\"info\">\n      暂无Agent信息。您可以创建一个主Agent来开始任务调度系统。\n      <div class=\"mt-2\">\n        <b-button variant=\"primary\" size=\"sm\" @click=\"showCreateAgentModal\">\n          <b-icon icon=\"plus\"></b-icon> 创建主Agent\n        </b-button>\n      </div>\n    </b-alert>\n    \n    <!-- Agent列表 -->\n    <div v-else class=\"agent-tree\">\n      <!-- 主Agent列表 -->\n      <div v-for=\"agent in mainAgents\" :key=\"agent.id\" class=\"mb-4\">\n        <!-- 主Agent卡片 -->\n        <b-card \n          :class=\"['main-agent-card', { 'offline': agent.status === 'offline' }]\"\n          no-body\n        >\n          <b-card-header class=\"d-flex justify-content-between align-items-center\">\n            <div>\n              <b-badge variant=\"primary\" class=\"mr-2\">主</b-badge>\n              <strong>{{ agent.name }}</strong>\n              <span class=\"text-muted ml-2\">(ID: {{ agent.id }})</span>\n            </div>\n            <div>\n              <b-badge \n                :variant=\"getStatusVariant(agent.status)\" \n                class=\"mr-2\"\n              >\n                {{ getStatusText(agent.status) }}\n              </b-badge>\n              <small class=\"text-muted\">\n                <b-icon icon=\"clock\"></b-icon>\n                运行时长: {{ formatDuration(agent.running_time) }}\n              </small>\n              <b-button \n                v-if=\"agent.status !== 'offline' && agent.status !== 'canceled'\"\n                variant=\"outline-danger\" \n                size=\"sm\" \n                class=\"ml-2\"\n                @click=\"handleCancelAgent(agent.id)\"\n              >\n                取消\n              </b-button>\n            </div>\n          </b-card-header>\n          \n          <b-card-body>\n            <!-- CPU资源展示 -->\n            <div class=\"resource-section mb-3\">\n              <h6 class=\"mb-2\">CPU资源</h6>\n              <div class=\"d-flex align-items-center\">\n                <strong class=\"mr-2\">使用率:</strong>\n                <b-progress \n                  :value=\"agent.cpu_usage || 0\" \n                  :max=\"100\" \n                  class=\"flex-grow-1\"\n                  :variant=\"getResourceVariant(agent.cpu_usage || 0)\"\n                  show-progress\n                  height=\"1.5rem\"\n                >\n                  <span>{{ agent.cpu_usage || 0 }}%</span>\n                </b-progress>\n              </div>\n              <div class=\"mt-2\">\n                <strong>核心数:</strong> \n                {{ agent.cpu_cores || 0 }} 核 \n                (可用: {{ agent.available_cpu_cores || 0 }} 核)\n              </div>\n            </div>\n            \n            <!-- GPU资源展示 -->\n            <div class=\"resource-section\" v-if=\"agent.gpu_ids && agent.gpu_ids.length > 0\">\n              <h6 class=\"mb-2\">GPU资源</h6>\n              <div v-for=\"(gpu, index) in agent.gpu_usage || []\" :key=\"index\" class=\"mb-2\">\n                <strong>GPU {{ agent.gpu_ids[index] || index }}:</strong>\n                <div class=\"d-flex mt-1\">\n                  <div class=\"mr-3 text-nowrap\">\n                    <small>使用率:</small>\n                  </div>\n                  <b-progress \n                    :value=\"gpu.usage || 0\" \n                    :max=\"100\" \n                    class=\"flex-grow-1 mr-3\"\n                    :variant=\"getResourceVariant(gpu.usage || 0)\"\n                    show-progress\n                  >\n                    <span>{{ gpu.usage || 0 }}%</span>\n                  </b-progress>\n                </div>\n                <div class=\"d-flex mt-1\">\n                  <div class=\"mr-3 text-nowrap\">\n                    <small>显存:</small>\n                  </div>\n                  <b-progress \n                    :value=\"gpu.memory_used || 0\" \n                    :max=\"gpu.memory_total || 1\" \n                    class=\"flex-grow-1 mr-3\"\n                    variant=\"success\"\n                    show-progress\n                  >\n                    <span>{{ gpu.memory_used || 0 }} / {{ gpu.memory_total || 0 }} MB</span>\n                  </b-progress>\n                </div>\n              </div>\n              <div v-if=\"!agent.gpu_usage || agent.gpu_usage.length === 0\" class=\"text-muted\">\n                无GPU使用数据\n              </div>\n            </div>\n          </b-card-body>\n        </b-card>\n        \n        <!-- 子Agent列表 -->\n        <div class=\"sub-agents ml-5 mt-2\">\n          <div \n            v-for=\"subAgent in getSubAgentsByMainId(agent.id)\" \n            :key=\"subAgent.id\" \n            class=\"mb-2\"\n          >\n            <b-card \n              :class=\"['sub-agent-card', { 'offline': subAgent.status === 'offline' }]\"\n              no-body\n            >\n              <b-card-header class=\"d-flex justify-content-between align-items-center py-2\">\n                <div>\n                  <b-badge variant=\"info\" class=\"mr-2\">子</b-badge>\n                  <strong>{{ subAgent.name }}</strong>\n                  <span class=\"text-muted ml-2\">(ID: {{ subAgent.id }})</span>\n                </div>\n                <div>\n                  <b-badge \n                    :variant=\"getStatusVariant(subAgent.status)\" \n                    class=\"mr-2\"\n                  >\n                    {{ getStatusText(subAgent.status) }}\n                  </b-badge>\n                  <small v-if=\"subAgent.task_id\" class=\"text-muted mr-2\">\n                    <b-icon icon=\"card-list\"></b-icon>\n                    任务ID: <b-link :to=\"`/tasks/${subAgent.task_id}`\">{{ subAgent.task_id }}</b-link>\n                  </small>\n                  <small class=\"text-muted\">\n                    <b-icon icon=\"clock\"></b-icon>\n                    运行时长: {{ formatDuration(subAgent.running_time) }}\n                  </small>\n                  <b-button \n                    v-if=\"subAgent.status !== 'offline' && subAgent.status !== 'canceled'\"\n                    variant=\"outline-danger\" \n                    size=\"sm\" \n                    class=\"ml-2\"\n                    @click=\"handleCancelAgent(subAgent.id)\"\n                  >\n                    取消\n                  </b-button>\n                </div>\n              </b-card-header>\n              \n              <b-card-body class=\"py-2\">\n                <!-- GPU使用情况 -->\n                <div v-if=\"subAgent.gpu_ids && subAgent.gpu_ids.length > 0\">\n                  <div v-for=\"(gpu, index) in subAgent.gpu_usage || []\" :key=\"index\" class=\"mb-1\">\n                    <div class=\"d-flex align-items-center\">\n                      <small class=\"text-nowrap mr-2\">GPU {{ subAgent.gpu_ids[index] || index }}:</small>\n                      <b-progress \n                        :value=\"gpu.usage || 0\" \n                        :max=\"100\" \n                        class=\"flex-grow-1\"\n                        :variant=\"getResourceVariant(gpu.usage || 0)\"\n                        height=\"0.5rem\"\n                      ></b-progress>\n                      <small class=\"ml-2\">{{ gpu.usage || 0 }}%</small>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- CPU使用情况 -->\n                <div class=\"d-flex align-items-center mt-1\">\n                  <small class=\"text-nowrap mr-2\">CPU使用率:</small>\n                  <b-progress \n                    :value=\"subAgent.cpu_usage || 0\" \n                    :max=\"100\" \n                    class=\"flex-grow-1\"\n                    :variant=\"getResourceVariant(subAgent.cpu_usage || 0)\"\n                    height=\"0.5rem\"\n                  ></b-progress>\n                  <small class=\"ml-2\">{{ subAgent.cpu_usage || 0 }}%</small>\n                </div>\n              </b-card-body>\n            </b-card>\n          </div>\n          \n          <div v-if=\"getSubAgentsByMainId(agent.id).length === 0\" class=\"text-muted ml-2 mt-2\">\n            <small>暂无子Agent</small>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 创建主Agent弹窗 -->\n    <b-modal\n      id=\"create-agent-modal\"\n      title=\"创建主Agent\"\n      ok-title=\"创建\"\n      cancel-title=\"取消\"\n      @ok=\"handleCreateMainAgent\"\n      :ok-disabled=\"!newAgentName || !newAgentCpuCores\"\n    >\n      <b-form-group\n        label=\"Agent名称\"\n        label-for=\"agent-name\"\n      >\n        <b-form-input\n          id=\"agent-name\"\n          v-model=\"newAgentName\"\n          required\n          placeholder=\"请输入Agent名称\"\n        ></b-form-input>\n      </b-form-group>\n      \n      <b-form-group\n        label=\"CPU核心数\"\n        label-for=\"cpu-cores\"\n      >\n        <b-form-input\n          id=\"cpu-cores\"\n          v-model.number=\"newAgentCpuCores\"\n          type=\"number\"\n          min=\"1\"\n          required\n          placeholder=\"分配的CPU核心数\"\n        ></b-form-input>\n      </b-form-group>\n      \n      <b-form-group\n        label=\"GPU ID列表 (可选)\"\n        label-for=\"gpu-ids\"\n        description=\"多个GPU ID使用逗号分隔\"\n      >\n        <b-form-input\n          id=\"gpu-ids\"\n          v-model=\"newAgentGpuIds\"\n          placeholder=\"例如: 0,1,2\"\n        ></b-form-input>\n      </b-form-group>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex'\nimport moment from 'moment'\n\nexport default {\n  name: 'AgentList',\n  \n  data() {\n    return {\n      newAgentName: '',\n      newAgentCpuCores: 1,\n      newAgentGpuIds: '',\n      pollingEnabled: true\n    }\n  },\n  \n  computed: {\n    ...mapState('agents', ['loading', 'error']),\n    ...mapGetters('agents', ['mainAgents', 'subAgents']),\n    \n    // 通过函数获取指定主Agent的子Agent\n    getSubAgentsByMainId() {\n      return (mainAgentId) => {\n        return this.subAgents.filter(agent => agent.main_agent_id === mainAgentId)\n      }\n    }\n  },\n  \n  methods: {\n    ...mapActions('agents', [\n      'fetchAgents', \n      'createMainAgent', \n      'cancelAgent',\n      'checkAgentsStatus'\n    ]),\n    \n    // 刷新Agent列表\n    async refreshAgents() {\n      try {\n        await this.fetchAgents()\n      } catch (error) {\n        this.$bvToast.toast('获取Agent列表失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 创建主Agent\n    async handleCreateMainAgent() {\n      if (!this.newAgentName || !this.newAgentCpuCores) {\n        return\n      }\n      \n      // 解析GPU ID\n      const gpuIds = this.newAgentGpuIds\n        ? this.newAgentGpuIds.split(',').map(id => id.trim())\n        : []\n      \n      try {\n        await this.createMainAgent({\n          name: this.newAgentName,\n          cpu_cores: this.newAgentCpuCores,\n          gpu_ids: gpuIds\n        })\n        \n        this.$bvToast.toast('主Agent创建成功', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        })\n        \n        // 重置表单\n        this.newAgentName = ''\n        this.newAgentCpuCores = 1\n        this.newAgentGpuIds = ''\n        \n        // 关闭弹窗\n        this.$bvModal.hide('create-agent-modal')\n      } catch (error) {\n        this.$bvToast.toast('创建主Agent失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 取消Agent\n    async handleCancelAgent(agentId) {\n      try {\n        await this.$bvModal.msgBoxConfirm('确定要取消此Agent吗？这将停止其所有任务。', {\n          title: '确认取消',\n          okVariant: 'danger',\n          okTitle: '确认',\n          cancelTitle: '取消'\n        })\n        \n        await this.cancelAgent(agentId)\n        \n        this.$bvToast.toast('Agent已取消', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        })\n      } catch (error) {\n        if (error === false) return // 用户取消操作\n        \n        this.$bvToast.toast('取消Agent失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 检查所有Agent状态\n    async handleCheckAgentsStatus() {\n      try {\n        await this.checkAgentsStatus()\n        \n        this.$bvToast.toast('Agent状态已更新', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        })\n      } catch (error) {\n        this.$bvToast.toast('检查Agent状态失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 显示创建Agent弹窗\n    showCreateAgentModal() {\n      this.$bvModal.show('create-agent-modal')\n    },\n    \n    // 格式化状态为文本\n    getStatusText(status) {\n      const statusMap = {\n        'online': '在线',\n        'offline': '离线',\n        'busy': '忙碌',\n        'idle': '空闲',\n        'starting': '启动中',\n        'canceled': '已取消'\n      }\n      return statusMap[status] || status\n    },\n    \n    // 获取状态对应的样式\n    getStatusVariant(status) {\n      const variantMap = {\n        'online': 'success',\n        'offline': 'secondary',\n        'busy': 'warning',\n        'idle': 'info',\n        'starting': 'primary',\n        'canceled': 'danger'\n      }\n      return variantMap[status] || 'secondary'\n    },\n    \n    // 获取资源使用率对应的样式\n    getResourceVariant(usage) {\n      if (usage >= 90) return 'danger'\n      if (usage >= 70) return 'warning'\n      return 'success'\n    },\n    \n    // 格式化运行时长\n    formatDuration(seconds) {\n      if (!seconds) return '0秒'\n      \n      const duration = moment.duration(seconds, 'seconds')\n      const days = duration.days()\n      const hours = duration.hours()\n      const minutes = duration.minutes()\n      const secs = duration.seconds()\n      \n      let result = ''\n      if (days > 0) result += `${days}天 `\n      if (hours > 0) result += `${hours}小时 `\n      if (minutes > 0) result += `${minutes}分钟 `\n      if (secs > 0 && days === 0 && hours === 0) result += `${secs}秒`\n      \n      return result.trim()\n    }\n  },\n  \n  created() {\n    // 获取Agent列表\n    this.refreshAgents()\n    \n    // 启动轮询\n    this.pollingTimeout = setTimeout(() => {\n      this.refreshAgents()\n    }, 5000)\n  },\n  \n  beforeDestroy() {\n    // 清除轮询\n    if (this.pollingTimeout) {\n      clearTimeout(this.pollingTimeout)\n    }\n    this.pollingEnabled = false\n  }\n}\n</script>\n\n<style scoped>\n.agent-tree {\n  margin-top: 20px;\n}\n\n.main-agent-card {\n  border-left: 4px solid #007bff;\n}\n\n.sub-agent-card {\n  border-left: 3px solid #17a2b8;\n}\n\n.offline {\n  opacity: 0.7;\n  border-left-color: #6c757d;\n}\n\n.resource-section {\n  background-color: #f8f9fa;\n  padding: 10px;\n  border-radius: 4px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AgentList.vue?vue&type=template&id=6c8a05dc&scoped=true\"\nimport script from \"./AgentList.vue?vue&type=script&lang=js\"\nexport * from \"./AgentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AgentList.vue?vue&type=style&index=0&id=6c8a05dc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c8a05dc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
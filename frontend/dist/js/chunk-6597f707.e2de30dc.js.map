{"version":3,"sources":["webpack:///./src/views/Agents/AgentList.vue","webpack:///./src/views/Agents/components/AgentCard.vue","webpack:///./src/views/Agents/components/ResourceBar.vue","webpack:///src/views/Agents/components/ResourceBar.vue","webpack:///./src/views/Agents/components/ResourceBar.vue?b46d","webpack:///./src/views/Agents/components/ResourceBar.vue?9b93","webpack:///./src/views/Agents/components/GpuCard.vue","webpack:///src/views/Agents/components/GpuCard.vue","webpack:///./src/views/Agents/components/GpuCard.vue?a2ac","webpack:///./src/views/Agents/components/GpuCard.vue?7665","webpack:///./src/views/Agents/components/SubAgentCard.vue","webpack:///src/views/Agents/components/SubAgentCard.vue","webpack:///./src/views/Agents/components/SubAgentCard.vue?a2db","webpack:///./src/views/Agents/components/SubAgentCard.vue?85b6","webpack:///src/views/Agents/components/AgentCard.vue","webpack:///./src/views/Agents/components/AgentCard.vue?81ee","webpack:///./src/views/Agents/components/AgentCard.vue?0949","webpack:///src/views/Agents/AgentList.vue","webpack:///./src/views/Agents/AgentList.vue?f34b","webpack:///./src/views/Agents/AgentList.vue?0fc4","webpack:///./src/views/Agents/AgentList.vue?9c29","webpack:///./src/views/Agents/components/ResourceBar.vue?c28f","webpack:///./src/views/Agents/components/GpuCard.vue?e9be","webpack:///./src/views/Agents/components/SubAgentCard.vue?4b7e","webpack:///./src/views/Agents/components/AgentCard.vue?fff3"],"names":["render","_vm","this","_c","_self","staticClass","_v","loading","attrs","agents","length","_l","mainAgents","agent","key","id","getSubAgents","staticRenderFns","class","status","_s","name","getStatusType","getStatusText","type","formatDateTime","created_time","last_heartbeat_time","cpu_cores","Math","round","cpu_usage","memory_used","memory_total","parsedGpuInfo","gpu","index","_e","subAgents","subAgent","size","percentage","getColorByPercentage","showText","formatValue","used","total","props","Number","required","validator","value","Boolean","default","format","String","includes","computed","min","methods","formatBytes","bytes","units","i","floor","log","idx","pow","toFixed","component","gpu_id","is_available","usage","components","ResourceBar","Object","truncateId","task_id","GpuCard","Array","isArray","gpu_info","trim","JSON","parse","e","console","error","substring","dateTime","date","Date","now","diffMs","diffSec","diffMin","diffHour","diffDay","toISOString","split","statusMap","SubAgentCard","AgentCard","data","refreshInterval","filter","created","fetchAgents","setInterval","beforeDestroy","clearInterval","agentApi","getAgents","$message","mainAgentId","main_agent_id"],"mappings":"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","file":"js/chunk-6597f707.e2de30dc.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-list-container\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"agent列表\")]),(_vm.loading)?_c('div',{staticClass:\"loading-container\"},[_c('el-skeleton',{attrs:{\"rows\":4,\"animated\":\"\"}})],1):(_vm.agents.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_c('p',[_vm._v(\"没有找到agent\")])]):_c('div',{staticClass:\"agent-grid\"},_vm._l((_vm.mainAgents),function(agent){return _c('agent-card',{key:agent.id,attrs:{\"agent\":agent,\"sub-agents\":_vm.getSubAgents(agent.id)}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-card\",class:{'offline': _vm.agent.status === 'offline'}},[_c('div',{staticClass:\"agent-header\"},[_c('div',{staticClass:\"agent-title\"},[_c('h3',[_vm._v(_vm._s(_vm.agent.name))]),_c('el-tag',{attrs:{\"size\":\"small\",\"type\":_vm.getStatusType(_vm.agent.status)}},[_vm._v(_vm._s(_vm.getStatusText(_vm.agent.status)))])],1),_c('div',{staticClass:\"agent-meta\"},[_c('span',{staticClass:\"agent-id\"},[_vm._v(\"ID: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.agent.id))])]),_c('span',{staticClass:\"agent-type\"},[_vm._v(\"类型: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.agent.type === 'main' ? '主agent' : '子agent'))])])])]),_c('div',{staticClass:\"agent-time-info\"},[_c('div',{staticClass:\"time-item\"},[_c('i',{staticClass:\"el-icon-time\"}),_c('span',[_vm._v(\"创建时间: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatDateTime(_vm.agent.created_time)))])])]),_c('div',{staticClass:\"time-item\"},[_c('i',{staticClass:\"el-icon-refresh\"}),_c('span',[_vm._v(\"最近心跳: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatDateTime(_vm.agent.last_heartbeat_time)))])])])]),_c('div',{staticClass:\"resource-section\"},[_c('div',{staticClass:\"resource-item\"},[_c('div',{staticClass:\"resource-title\"},[_vm._v(\"CPU\")]),_c('div',{staticClass:\"resource-content\"},[_c('span',{staticClass:\"cores\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.agent.cpu_cores || 0))]),_vm._v(\" 核心\")]),_c('span',{staticClass:\"usage\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(Math.round(_vm.agent.cpu_usage || 0))+\"%\")])])])]),_c('div',{staticClass:\"resource-item\"},[_c('div',{staticClass:\"resource-title\"},[_vm._v(\"内存\")]),_c('resource-bar',{attrs:{\"used\":_vm.agent.memory_used || 0,\"total\":_vm.agent.memory_total || 1,\"show-text\":true,\"format\":\"bytes\"}})],1)]),(_vm.parsedGpuInfo && _vm.parsedGpuInfo.length > 0)?_c('div',{staticClass:\"gpu-section\"},[_c('h4',[_vm._v(\"GPU 资源\")]),_c('div',{staticClass:\"gpu-grid\"},_vm._l((_vm.parsedGpuInfo),function(gpu,index){return _c('gpu-card',{key:index,attrs:{\"gpu\":gpu}})}),1)]):_vm._e(),_c('div',{staticClass:\"sub-agents-section\"},[_c('h4',[_vm._v(\"子agent \"+_vm._s(_vm.subAgents && _vm.subAgents.length > 0 ? `(${_vm.subAgents.length})` : ''))]),(_vm.subAgents && _vm.subAgents.length > 0)?_c('div',{staticClass:\"sub-agents-grid\"},_vm._l((_vm.subAgents),function(subAgent){return _c('sub-agent-card',{key:subAgent.id,attrs:{\"agent\":subAgent}})}),1):_c('div',{staticClass:\"no-sub-agents\"},[_c('i',{staticClass:\"el-icon-info\"}),_c('p',[_vm._v(\"暂无子agent\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"resource-bar\",class:{ 'small': _vm.size === 'small' }},[_c('div',{staticClass:\"progress-container\",class:{ 'empty-progress': _vm.percentage === 0 }},[_c('el-progress',{attrs:{\"percentage\":_vm.percentage,\"stroke-width\":_vm.size === 'small' ? 10 : 14,\"color\":_vm.getColorByPercentage(_vm.percentage),\"show-text\":false}})],1),(_vm.showText)?_c('div',{staticClass:\"resource-text\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatValue(_vm.used)))]),_vm._v(\" / \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatValue(_vm.total)))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"resource-bar\" :class=\"{ 'small': size === 'small' }\">\n    <div class=\"progress-container\" :class=\"{ 'empty-progress': percentage === 0 }\">\n      <el-progress \n        :percentage=\"percentage\" \n        :stroke-width=\"size === 'small' ? 10 : 14\"\n        :color=\"getColorByPercentage(percentage)\"\n        :show-text=\"false\"\n      />\n    </div>\n    <div v-if=\"showText\" class=\"resource-text\">\n      <span class=\"info-value\">{{ formatValue(used) }}</span> / <span class=\"info-value\">{{ formatValue(total) }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ResourceBar',\n  props: {\n    used: {\n      type: Number,\n      required: true\n    },\n    total: {\n      type: Number,\n      required: true,\n      validator: value => value > 0\n    },\n    showText: {\n      type: Boolean,\n      default: true\n    },\n    format: {\n      type: String,\n      default: 'percentage',\n      validator: value => ['percentage', 'bytes'].includes(value)\n    },\n    size: {\n      type: String,\n      default: 'normal',\n      validator: value => ['small', 'normal'].includes(value)\n    }\n  },\n  computed: {\n    percentage() {\n      return Math.min(Math.round((this.used / this.total) * 100), 100)\n    }\n  },\n  methods: {\n    getColorByPercentage(percentage) {\n      if (percentage < 60) return '#67c23a'\n      if (percentage < 80) return '#e6a23c'\n      return '#f56c6c'\n    },\n    formatValue(value) {\n      if (this.format === 'percentage') {\n        return `${value}%`\n      } else if (this.format === 'bytes') {\n        return this.formatBytes(value)\n      }\n      return value\n    },\n    formatBytes(bytes) {\n      if (bytes === 0) return '0 B'\n      \n      const units = ['B', 'KB', 'MB', 'GB', 'TB']\n      const i = Math.floor(Math.log(bytes) / Math.log(1024))\n      \n      // Don't go beyond TB\n      const idx = Math.min(i, units.length - 1)\n      \n      return `${(bytes / Math.pow(1024, idx)).toFixed(2)} ${units[idx]}`\n    }\n  }\n}\n</script>\n\n<style scoped>\n.resource-bar {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  font-size: 16px;\n}\n\n.resource-bar.small {\n  gap: 4px;\n}\n\n.progress-container {\n  position: relative;\n}\n\n.empty-progress {\n  border: 1px solid #dcdfe6;\n  border-radius: 100px;\n}\n\n.resource-text {\n  display: flex;\n  justify-content: flex-end;\n  font-size: 14px;\n  color: #606266;\n}\n\n.resource-bar.small .resource-text {\n  font-size: 13px;\n}\n\n.info-value {\n  display: inline-block;\n  background-color: #f0f2f5;\n  border-radius: 4px;\n  padding: 0 6px;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceBar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceBar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ResourceBar.vue?vue&type=template&id=4ea45a99&scoped=true\"\nimport script from \"./ResourceBar.vue?vue&type=script&lang=js\"\nexport * from \"./ResourceBar.vue?vue&type=script&lang=js\"\nimport style0 from \"./ResourceBar.vue?vue&type=style&index=0&id=4ea45a99&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ea45a99\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"gpu-card\",class:{ 'small': _vm.size === 'small' }},[_c('div',{staticClass:\"gpu-header\"},[_c('div',{staticClass:\"gpu-title\"},[_c('h5',[_vm._v(\"GPU \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.gpu.gpu_id))])]),_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":_vm.gpu.is_available ? 'success' : 'danger'}},[_vm._v(\" \"+_vm._s(_vm.gpu.is_available ? '可用' : '使用中')+\" \")])],1)]),_c('div',{staticClass:\"gpu-usage\"},[_c('span',{staticClass:\"usage-label\"},[_vm._v(\"使用率:\")]),_c('span',{staticClass:\"usage-value\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(Math.round(_vm.gpu.usage || 0))+\"%\")])])]),_c('div',{staticClass:\"memory-section\"},[_c('resource-bar',{attrs:{\"used\":_vm.gpu.memory_used || 0,\"total\":_vm.gpu.memory_total || 1,\"show-text\":true,\"format\":\"bytes\",\"size\":_vm.size}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"gpu-card\" :class=\"{ 'small': size === 'small' }\">\n    <div class=\"gpu-header\">\n      <div class=\"gpu-title\">\n        <h5>GPU <span class=\"info-value\">{{ gpu.gpu_id }}</span></h5>\n        <el-tag size=\"mini\" :type=\"gpu.is_available ? 'success' : 'danger'\">\n          {{ gpu.is_available ? '可用' : '使用中' }}\n        </el-tag>\n      </div>\n    </div>\n    \n    <div class=\"gpu-usage\">\n      <span class=\"usage-label\">使用率:</span>\n      <span class=\"usage-value\"><span class=\"info-value\">{{ Math.round(gpu.usage || 0) }}%</span></span>\n    </div>\n    \n    <div class=\"memory-section\">\n      <resource-bar \n        :used=\"gpu.memory_used || 0\"\n        :total=\"gpu.memory_total || 1\"\n        :show-text=\"true\"\n        format=\"bytes\"\n        :size=\"size\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ResourceBar from './ResourceBar.vue'\n\nexport default {\n  name: 'GpuCard',\n  components: {\n    ResourceBar\n  },\n  props: {\n    gpu: {\n      type: Object,\n      required: true\n    },\n    size: {\n      type: String,\n      default: 'normal',\n      validator: value => ['small', 'normal'].includes(value)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.gpu-card {\n  background-color: #f0f2f5;\n  border-radius: 6px;\n  padding: 12px;\n  transition: all 0.3s ease;\n  font-size: 16px;\n}\n\n.info-value {\n  display: inline-block;\n  background-color: #e4e7ed;\n  border-radius: 4px;\n  padding: 2px 6px;\n  font-weight: 500;\n}\n\n.gpu-card.small {\n  padding: 8px;\n}\n\n.gpu-header {\n  margin-bottom: 10px;\n}\n\n.gpu-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.gpu-title h5 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.gpu-card.small .gpu-title h5 {\n  font-size: 13px;\n}\n\n.gpu-usage {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n\n.gpu-card.small .gpu-usage {\n  font-size: 12px;\n  margin-bottom: 6px;\n}\n\n.usage-label {\n  color: #606266;\n}\n\n.usage-value {\n  font-weight: 500;\n}\n\n.memory-section {\n  margin-top: 6px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GpuCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GpuCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GpuCard.vue?vue&type=template&id=1f712db8&scoped=true\"\nimport script from \"./GpuCard.vue?vue&type=script&lang=js\"\nexport * from \"./GpuCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./GpuCard.vue?vue&type=style&index=0&id=1f712db8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f712db8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sub-agent-card\",class:{'offline': _vm.agent.status === 'offline'}},[_c('div',{staticClass:\"sub-agent-header\"},[_c('div',{staticClass:\"sub-agent-title\"},[_c('h4',[_vm._v(_vm._s(_vm.agent.name))]),_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":_vm.getStatusType(_vm.agent.status)}},[_vm._v(_vm._s(_vm.getStatusText(_vm.agent.status)))])],1),_c('div',{staticClass:\"sub-agent-meta\"},[_c('span',{staticClass:\"sub-agent-id\"},[_vm._v(\"ID: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.truncateId(_vm.agent.id)))])]),(_vm.agent.task_id)?_c('span',{staticClass:\"task-id\"},[_vm._v(\"任务: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.truncateId(_vm.agent.task_id)))])]):_vm._e()])]),_c('div',{staticClass:\"sub-agent-time-info\"},[_c('div',{staticClass:\"time-item\"},[_c('i',{staticClass:\"el-icon-time\"}),_c('span',[_vm._v(\"创建时间: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatDateTime(_vm.agent.created_time)))])])]),_c('div',{staticClass:\"time-item\"},[_c('i',{staticClass:\"el-icon-refresh\"}),_c('span',[_vm._v(\"最近心跳: \"),_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.formatDateTime(_vm.agent.last_heartbeat_time)))])])])]),_c('div',{staticClass:\"resource-section\"},[_c('div',{staticClass:\"resource-item\"},[_c('div',{staticClass:\"resource-content cpu-info\"},[_c('span',{staticClass:\"cores\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.agent.cpu_cores || 0))]),_vm._v(\" 核心\")]),_c('span',{staticClass:\"usage\"},[_c('span',{staticClass:\"info-value\"},[_vm._v(_vm._s(Math.round(_vm.agent.cpu_usage || 0))+\"%\")])])])]),_c('div',{staticClass:\"resource-item\"},[_c('resource-bar',{attrs:{\"used\":_vm.agent.memory_used || 0,\"total\":_vm.agent.memory_total || 1,\"show-text\":true,\"format\":\"bytes\",\"size\":\"small\"}})],1)]),(_vm.parsedGpuInfo && _vm.parsedGpuInfo.length > 0)?_c('div',{staticClass:\"gpu-section\"},[_c('div',{staticClass:\"gpu-grid\"},_vm._l((_vm.parsedGpuInfo),function(gpu,index){return _c('gpu-card',{key:index,attrs:{\"gpu\":gpu,\"size\":\"small\"}})}),1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sub-agent-card\" :class=\"{'offline': agent.status === 'offline'}\">\n    <div class=\"sub-agent-header\">\n      <div class=\"sub-agent-title\">\n        <h4>{{ agent.name }}</h4>\n        <el-tag size=\"mini\" :type=\"getStatusType(agent.status)\">{{ getStatusText(agent.status) }}</el-tag>\n      </div>\n      <div class=\"sub-agent-meta\">\n        <span class=\"sub-agent-id\">ID: <span class=\"info-value\">{{ truncateId(agent.id) }}</span></span>\n        <span v-if=\"agent.task_id\" class=\"task-id\">任务: <span class=\"info-value\">{{ truncateId(agent.task_id) }}</span></span>\n      </div>\n    </div>\n    \n    <div class=\"sub-agent-time-info\">\n      <div class=\"time-item\">\n        <i class=\"el-icon-time\"></i>\n        <span>创建时间: <span class=\"info-value\">{{ formatDateTime(agent.created_time) }}</span></span>\n      </div>\n      <div class=\"time-item\">\n        <i class=\"el-icon-refresh\"></i>\n        <span>最近心跳: <span class=\"info-value\">{{ formatDateTime(agent.last_heartbeat_time) }}</span></span>\n      </div>\n    </div>\n    \n    <div class=\"resource-section\">\n      <div class=\"resource-item\">\n        <div class=\"resource-content cpu-info\">\n          <span class=\"cores\"><span class=\"info-value\">{{ agent.cpu_cores || 0 }}</span> 核心</span>\n          <span class=\"usage\"><span class=\"info-value\">{{ Math.round(agent.cpu_usage || 0) }}%</span></span>\n        </div>\n      </div>\n      \n      <div class=\"resource-item\">\n        <resource-bar \n          :used=\"agent.memory_used || 0\"\n          :total=\"agent.memory_total || 1\"\n          :show-text=\"true\"\n          format=\"bytes\"\n          size=\"small\"\n        />\n      </div>\n    </div>\n    \n    <div class=\"gpu-section\" v-if=\"parsedGpuInfo && parsedGpuInfo.length > 0\">\n      <div class=\"gpu-grid\">\n        <gpu-card \n          v-for=\"(gpu, index) in parsedGpuInfo\" \n          :key=\"index\" \n          :gpu=\"gpu\"\n          size=\"small\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Custom date formatter used instead of date-fns\nimport ResourceBar from './ResourceBar.vue'\nimport GpuCard from './GpuCard.vue'\n\nexport default {\n  name: 'SubAgentCard',\n  components: {\n    ResourceBar,\n    GpuCard\n  },\n  props: {\n    agent: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    parsedGpuInfo() {\n      try {\n        // Check if gpu_info is already an array\n        if (Array.isArray(this.agent.gpu_info)) {\n          return this.agent.gpu_info;\n        }\n        // If it's a string, try to parse it as JSON\n        if (typeof this.agent.gpu_info === 'string' && this.agent.gpu_info.trim()) {\n          return JSON.parse(this.agent.gpu_info);\n        }\n        // Return empty array if not valid\n        return [];\n      } catch (e) {\n        console.error('Error parsing GPU info:', e);\n        return [];\n      }\n    }\n  },\n  methods: {\n    truncateId(id) {\n      if (!id) return 'N/A'\n      return id.length > 8 ? id.substring(0, 8) + '...' : id\n    },\n    formatDateTime(dateTime) {\n      if (!dateTime) return 'N/A'\n      \n      try {\n        const date = new Date(dateTime)\n        const now = new Date()\n        const diffMs = now - date\n        const diffSec = Math.floor(diffMs / 1000)\n        const diffMin = Math.floor(diffSec / 60)\n        const diffHour = Math.floor(diffMin / 60)\n        const diffDay = Math.floor(diffHour / 24)\n\n        if (diffSec < 60) return '刚刚'\n        if (diffMin < 60) return `${diffMin} 分钟前`\n        if (diffHour < 24) return `${diffHour} 小时前`\n        if (diffDay < 30) return `${diffDay} 天前`\n\n        // Format as YYYY-MM-DD if older\n        return date.toISOString().split('T')[0]\n      } catch (e) {\n        return 'Invalid date'\n      }\n    },\n    getStatusType(status) {\n      const statusMap = {\n        'online': 'success',\n        'offline': 'info',\n        'end': 'danger'\n      }\n      return statusMap[status] || 'info'\n    },\n    getStatusText(status) {\n      const statusMap = {\n        'online': '在线',\n        'offline': '离线',\n        'end': '已结束'\n      }\n      return statusMap[status] || status\n    }\n  }\n}\n</script>\n\n<style scoped>\n.sub-agent-card {\n  background-color: #f5f7fa;\n  border-radius: 6px;\n  padding: 14px;\n  transition: all 0.3s ease;\n  font-size: 16px;\n}\n\n.info-value {\n  display: inline-block;\n  background-color: #ebeef5;\n  border-radius: 4px;\n  padding: 2px 6px;\n  font-weight: 500;\n}\n\n.sub-agent-card.offline {\n  opacity: 0.7;\n}\n\n.sub-agent-header {\n  margin-bottom: 12px;\n}\n\n.sub-agent-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 6px;\n}\n\n.sub-agent-title h4 {\n  margin: 0;\n  font-size: 15px;\n  font-weight: 500;\n}\n\n.sub-agent-meta {\n  display: flex;\n  gap: 12px;\n  font-size: 11px;\n  color: #606266;\n}\n\n.sub-agent-time-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-bottom: 12px;\n  font-size: 12px;\n  color: #606266;\n}\n\n.time-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.resource-section {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 14px;\n}\n\n.resource-item {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.cpu-info {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n}\n\n.gpu-section {\n  margin-top: 12px;\n}\n\n.gpu-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 8px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubAgentCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubAgentCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SubAgentCard.vue?vue&type=template&id=4ffbb889&scoped=true\"\nimport script from \"./SubAgentCard.vue?vue&type=script&lang=js\"\nexport * from \"./SubAgentCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./SubAgentCard.vue?vue&type=style&index=0&id=4ffbb889&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ffbb889\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"agent-card\" :class=\"{'offline': agent.status === 'offline'}\">\n    <div class=\"agent-header\">\n      <div class=\"agent-title\">\n        <h3>{{ agent.name }}</h3>\n        <el-tag size=\"small\" :type=\"getStatusType(agent.status)\">{{ getStatusText(agent.status) }}</el-tag>\n      </div>\n      <div class=\"agent-meta\">\n        <span class=\"agent-id\">ID: <span class=\"info-value\">{{ agent.id }}</span></span>\n        <span class=\"agent-type\">类型: <span class=\"info-value\">{{ agent.type === 'main' ? '主agent' : '子agent' }}</span></span>\n      </div>\n    </div>\n    \n    <div class=\"agent-time-info\">\n      <div class=\"time-item\">\n        <i class=\"el-icon-time\"></i>\n        <span>创建时间: <span class=\"info-value\">{{ formatDateTime(agent.created_time) }}</span></span>\n      </div>\n      <div class=\"time-item\">\n        <i class=\"el-icon-refresh\"></i>\n        <span>最近心跳: <span class=\"info-value\">{{ formatDateTime(agent.last_heartbeat_time) }}</span></span>\n      </div>\n    </div>\n    \n    <div class=\"resource-section\">\n      <div class=\"resource-item\">\n        <div class=\"resource-title\">CPU</div>\n        <div class=\"resource-content\">\n          <span class=\"cores\"><span class=\"info-value\">{{ agent.cpu_cores || 0 }}</span> 核心</span>\n          <span class=\"usage\"><span class=\"info-value\">{{ Math.round(agent.cpu_usage || 0) }}%</span></span>\n        </div>\n      </div>\n      \n      <div class=\"resource-item\">\n        <div class=\"resource-title\">内存</div>\n        <resource-bar \n          :used=\"agent.memory_used || 0\"\n          :total=\"agent.memory_total || 1\"\n          :show-text=\"true\"\n          format=\"bytes\"\n        />\n      </div>\n    </div>\n    \n    <div class=\"gpu-section\" v-if=\"parsedGpuInfo && parsedGpuInfo.length > 0\">\n      <h4>GPU 资源</h4>\n      <div class=\"gpu-grid\">\n        <gpu-card \n          v-for=\"(gpu, index) in parsedGpuInfo\" \n          :key=\"index\" \n          :gpu=\"gpu\" \n        />\n      </div>\n    </div>\n    \n    <div class=\"sub-agents-section\">\n      <h4>子agent {{ subAgents && subAgents.length > 0 ? `(${subAgents.length})` : '' }}</h4>\n      <div v-if=\"subAgents && subAgents.length > 0\" class=\"sub-agents-grid\">\n        <sub-agent-card \n          v-for=\"subAgent in subAgents\" \n          :key=\"subAgent.id\" \n          :agent=\"subAgent\" \n        />\n      </div>\n      <div v-else class=\"no-sub-agents\">\n        <i class=\"el-icon-info\"></i>\n        <p>暂无子agent</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Custom date formatter used instead of date-fns\nimport ResourceBar from './ResourceBar.vue'\nimport GpuCard from './GpuCard.vue'\nimport SubAgentCard from './SubAgentCard.vue'\n\nexport default {\n  name: 'AgentCard',\n  components: {\n    ResourceBar,\n    GpuCard,\n    SubAgentCard\n  },\n  props: {\n    agent: {\n      type: Object,\n      required: true\n    },\n    subAgents: {\n      type: Array,\n      default: () => []\n    }\n  },\n  computed: {\n    parsedGpuInfo() {\n      try {\n        // Check if gpu_info is already an array\n        if (Array.isArray(this.agent.gpu_info)) {\n          return this.agent.gpu_info;\n        }\n        // If it's a string, try to parse it as JSON\n        if (typeof this.agent.gpu_info === 'string' && this.agent.gpu_info.trim()) {\n          return JSON.parse(this.agent.gpu_info);\n        }\n        // Return empty array if not valid\n        return [];\n      } catch (e) {\n        console.error('Error parsing GPU info:', e);\n        return [];\n      }\n    }\n  },\n  methods: {\n    formatDateTime(dateTime) {\n      if (!dateTime) return 'N/A'\n      \n      try {\n        const date = new Date(dateTime)\n        const now = new Date()\n        const diffMs = now - date\n        const diffSec = Math.floor(diffMs / 1000)\n        const diffMin = Math.floor(diffSec / 60)\n        const diffHour = Math.floor(diffMin / 60)\n        const diffDay = Math.floor(diffHour / 24)\n\n        if (diffSec < 60) return '刚刚'\n        if (diffMin < 60) return `${diffMin} 分钟前`\n        if (diffHour < 24) return `${diffHour} 小时前`\n        if (diffDay < 30) return `${diffDay} 天前`\n\n        // Format as YYYY-MM-DD if older\n        return date.toISOString().split('T')[0]\n      } catch (e) {\n        return 'Invalid date'\n      }\n    },\n    getStatusType(status) {\n      const statusMap = {\n        'online': 'success',\n        'offline': 'info',\n        'end': 'danger'\n      }\n      return statusMap[status] || 'info'\n    },\n    getStatusText(status) {\n      const statusMap = {\n        'online': '在线',\n        'offline': '离线',\n        'end': '已结束'\n      }\n      return statusMap[status] || status\n    }\n  }\n}\n</script>\n\n<style scoped>\n.agent-card {\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  transition: all 0.3s ease;\n  font-size: 16px;\n}\n\n.info-value {\n  display: inline-block;\n  background-color: #f0f2f5;\n  border-radius: 4px;\n  padding: 2px 8px;\n  font-weight: 500;\n}\n\n.agent-card.offline {\n  opacity: 0.7;\n}\n\n.agent-header {\n  margin-bottom: 16px;\n}\n\n.agent-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n\n.agent-title h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n}\n\n.agent-meta {\n  display: flex;\n  gap: 16px;\n  font-size: 12px;\n  color: #606266;\n}\n\n.agent-time-info {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  font-size: 13px;\n  color: #606266;\n}\n\n.time-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.resource-section {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.resource-item {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.resource-title {\n  font-size: 14px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.resource-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.gpu-section, .sub-agents-section {\n  margin-top: 24px;\n}\n\n.gpu-section h4, .sub-agents-section h4 {\n  margin-top: 0;\n  margin-bottom: 16px;\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.gpu-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.sub-agents-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-top: 12px;\n}\n\n.no-sub-agents {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 0;\n  background-color: #f5f7fa;\n  border-radius: 6px;\n  color: #909399;\n}\n\n.no-sub-agents i {\n  font-size: 24px;\n  margin-bottom: 8px;\n}\n\n@media (max-width: 768px) {\n  .agent-time-info {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .gpu-grid, .sub-agents-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AgentCard.vue?vue&type=template&id=6cb30848&scoped=true\"\nimport script from \"./AgentCard.vue?vue&type=script&lang=js\"\nexport * from \"./AgentCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./AgentCard.vue?vue&type=style&index=0&id=6cb30848&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cb30848\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"agent-list-container\">\n    <h1 class=\"page-title\">agent列表</h1>\n    \n    <div v-if=\"loading\" class=\"loading-container\">\n      <el-skeleton :rows=\"4\" animated />\n    </div>\n    \n    <div v-else-if=\"agents.length === 0\" class=\"empty-state\">\n      <i class=\"el-icon-warning-outline\"></i>\n      <p>没有找到agent</p>\n    </div>\n    \n    <div v-else class=\"agent-grid\">\n      <agent-card \n        v-for=\"agent in mainAgents\" \n        :key=\"agent.id\" \n        :agent=\"agent\"\n        :sub-agents=\"getSubAgents(agent.id)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { agentApi } from '@/services/api'\nimport AgentCard from './components/AgentCard.vue'\n\nexport default {\n  name: 'AgentList',\n  components: {\n    AgentCard\n  },\n  data() {\n    return {\n      agents: [],\n      loading: true,\n      refreshInterval: null\n    }\n  },\n  computed: {\n    mainAgents() {\n      return this.agents.filter(agent => agent.type === 'main')\n    }\n  },\n  created() {\n    this.fetchAgents()\n    // Set up auto-refresh every 10 seconds\n    this.refreshInterval = setInterval(() => {\n      this.fetchAgents()\n    }, 10000)\n  },\n  beforeDestroy() {\n    // Clear the interval when component is destroyed\n    if (this.refreshInterval) {\n      clearInterval(this.refreshInterval)\n    }\n  },\n  methods: {\n    async fetchAgents() {\n      try {\n        this.loading = true\n        const agents = await agentApi.getAgents()\n        this.agents = agents\n      } catch (error) {\n        console.error('Failed to fetch agents:', error)\n        this.$message.error('Failed to load agents')\n      } finally {\n        this.loading = false\n      }\n    },\n    getSubAgents(mainAgentId) {\n      return this.agents.filter(agent => \n        agent.type === 'sub' && agent.main_agent_id === mainAgentId\n      )\n    }\n  }\n}\n</script>\n\n<style scoped>\n.agent-list-container {\n  padding: 20px;\n}\n\n.page-title {\n  margin-bottom: 24px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.loading-container {\n  margin: 40px 0;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 60px 0;\n  color: #909399;\n}\n\n.empty-state i {\n  font-size: 48px;\n  margin-bottom: 16px;\n}\n\n.agent-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 20px;\n}\n\n@media (max-width: 1200px) {\n  .agent-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AgentList.vue?vue&type=template&id=8715ec1e&scoped=true\"\nimport script from \"./AgentList.vue?vue&type=script&lang=js\"\nexport * from \"./AgentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AgentList.vue?vue&type=style&index=0&id=8715ec1e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8715ec1e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=style&index=0&id=8715ec1e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceBar.vue?vue&type=style&index=0&id=4ea45a99&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GpuCard.vue?vue&type=style&index=0&id=1f712db8&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubAgentCard.vue?vue&type=style&index=0&id=4ffbb889&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentCard.vue?vue&type=style&index=0&id=6cb30848&prod&scoped=true&lang=css\""],"sourceRoot":""}
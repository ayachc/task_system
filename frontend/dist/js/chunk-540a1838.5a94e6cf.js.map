{"version":3,"sources":["webpack:///./src/views/Agents/AgentList.vue","webpack:///src/views/Agents/AgentList.vue","webpack:///./src/views/Agents/AgentList.vue?f34b","webpack:///./src/views/Agents/AgentList.vue?0fc4","webpack:///./src/views/Agents/AgentList.vue?4536"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","showCreateAgentModal","loading","refreshAgents","_e","error","_s","mainAgents","length","_l","agent","key","id","class","status","name","getStatusVariant","getStatusText","formatDuration","running_time","$event","handleCancelAgent","formatTime","created_time","last_heartbeat_time","cpu_cores","available_cpu_cores","cpu_usage","getResourceVariant","memory_usage","monitor_file","gpu_info","gpu","index","gpu_id","is_available","usage","memory_used","memory_total","formatMemory","getSubAgentsByMainId","subAgent","task_id","newAgentName","newAgentCpuCores","handleCreateMainAgent","model","value","callback","$$v","expression","_n","newAgentGpuIds","newAgentMonitorFile","staticRenderFns","data","pollingEnabled","computed","mapState","mapGetters","mainAgentId","subAgents","filter","main_agent_id","methods","mapActions","fetchAgents","$bvToast","toast","title","variant","solid","gpuIds","split","map","trim","createMainAgent","gpu_ids","$bvModal","hide","agentId","msgBoxConfirm","okVariant","okTitle","cancelTitle","cancelAgent","show","statusMap","variantMap","seconds","duration","moment","days","hours","minutes","secs","result","timestamp","format","bytes","toFixed","startPolling","poll","finally","pollingTimeout","setTimeout","created","beforeDestroy","clearTimeout","component"],"mappings":"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","file":"js/chunk-540a1838.5a94e6cf.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-list\"},[_c('h3',{staticClass:\"mb-4\"},[_vm._v(\"Agent管理\")]),_c('div',{staticClass:\"d-flex justify-content-between mb-3\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.showCreateAgentModal}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}}),_vm._v(\" 创建主Agent \")],1),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.refreshAgents}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"arrow-clockwise\"}}),_vm._v(\" 刷新列表 \")],1)],1),(_vm.loading)?_c('div',{staticClass:\"text-center py-5\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"加载中...\"}}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"加载Agent信息...\")])],1):_vm._e(),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\",\"dismissible\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),(!_vm.loading && _vm.mainAgents.length === 0)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"info\"}},[_vm._v(\" 暂无Agent信息。您可以创建一个主Agent来开始任务调度系统。 \")]):_c('div',{staticClass:\"agent-tree\"},_vm._l((_vm.mainAgents),function(agent){return _c('div',{key:agent.id,staticClass:\"mb-5\"},[_c('b-card',{class:['main-agent-card', { 'offline': agent.status === 'offline' }],attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex justify-content-between align-items-center py-2\"},[_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\"}},[_vm._v(\"主\")]),_c('strong',[_vm._v(_vm._s(agent.name))]),_c('span',{staticClass:\"text-muted ml-2\"},[_vm._v(\"(ID: \"+_vm._s(agent.id)+\")\")])],1),_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":_vm.getStatusVariant(agent.status)}},[_vm._v(\" \"+_vm._s(_vm.getStatusText(agent.status))+\" \")]),_c('small',{staticClass:\"text-muted mr-2\"},[_c('b-icon',{attrs:{\"icon\":\"clock-history\"}}),_vm._v(\" 运行时长: \"+_vm._s(_vm.formatDuration(agent.running_time))+\" \")],1),(agent.status !== 'offline' && agent.status !== 'canceled')?_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.handleCancelAgent(agent.id)}}},[_vm._v(\" 取消 \")]):_vm._e()],1)]),_c('b-card-body',{staticClass:\"py-3\"},[_c('div',{staticClass:\"agent-info-grid mb-3\"},[_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"创建时间：\")]),_c('div',[_vm._v(_vm._s(_vm.formatTime(agent.created_time)))])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"上次心跳：\")]),_c('div',[_vm._v(_vm._s(_vm.formatTime(agent.last_heartbeat_time)))])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"CPU核心数：\")]),_c('div',[_vm._v(_vm._s(agent.cpu_cores || 0)+\" 核 (可用: \"+_vm._s(agent.available_cpu_cores || 0)+\" 核)\")])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"CPU使用率：\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-progress',{staticClass:\"flex-grow-1 mr-2\",attrs:{\"value\":agent.cpu_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(agent.cpu_usage || 0),\"height\":\"0.7rem\"}}),_c('span',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(agent.cpu_usage || 0)+\"%\")])],1)]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"内存使用率：\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-progress',{staticClass:\"flex-grow-1 mr-2\",attrs:{\"value\":agent.memory_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(agent.memory_usage || 0),\"height\":\"0.7rem\"}}),_c('span',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(agent.memory_usage || 0)+\"%\")])],1)]),(agent.monitor_file)?_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"监控文件：\")]),_c('div',[_vm._v(_vm._s(agent.monitor_file))])]):_vm._e()]),(agent.gpu_info && agent.gpu_info.length > 0)?_c('div',{staticClass:\"resource-section\"},[_c('h6',{staticClass:\"mb-2\"},[_vm._v(\"GPU资源\")]),_c('b-row',{staticClass:\"gpu-grid\"},_vm._l((agent.gpu_info),function(gpu,index){return _c('b-col',{key:index,staticClass:\"mb-2\",attrs:{\"md\":\"6\",\"lg\":\"4\"}},[_c('div',{staticClass:\"gpu-card p-2\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('strong',[_vm._v(\"GPU \"+_vm._s(gpu.gpu_id))]),_c('b-badge',{attrs:{\"variant\":gpu.is_available ? 'success' : 'secondary'}},[_vm._v(\" \"+_vm._s(gpu.is_available ? '可用' : '使用中')+\" \")])],1),_c('div',{staticClass:\"mt-2\"},[_c('small',{staticClass:\"d-block mb-1\"},[_vm._v(\"使用率:\")]),_c('b-progress',{staticClass:\"mb-2\",attrs:{\"value\":gpu.usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(gpu.usage || 0),\"height\":\"0.6rem\"}},[_c('span',[_vm._v(_vm._s(gpu.usage || 0)+\"%\")])])],1),_c('div',[_c('small',{staticClass:\"d-block mb-1\"},[_vm._v(\"显存:\")]),_c('b-progress',{staticClass:\"mb-1\",attrs:{\"value\":gpu.memory_used || 0,\"max\":gpu.memory_total || 1,\"variant\":\"info\",\"height\":\"0.6rem\"}}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('small',[_vm._v(_vm._s(_vm.formatMemory(gpu.memory_used)))]),_c('small',[_vm._v(_vm._s(_vm.formatMemory(gpu.memory_total)))])])],1)])])}),1)],1):_vm._e()])],1),_c('div',{staticClass:\"sub-agents ml-4 mt-3\"},[_vm._l((_vm.getSubAgentsByMainId(agent.id)),function(subAgent){return _c('div',{key:subAgent.id,staticClass:\"mb-3\"},[_c('b-card',{class:['sub-agent-card', { 'offline': subAgent.status === 'offline' }],attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex justify-content-between align-items-center py-2\"},[_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":\"info\"}},[_vm._v(\"子\")]),_c('strong',[_vm._v(_vm._s(subAgent.name))]),_c('span',{staticClass:\"text-muted ml-2\"},[_vm._v(\"(ID: \"+_vm._s(subAgent.id)+\")\")])],1),_c('div',[_c('b-badge',{staticClass:\"mr-2\",attrs:{\"variant\":_vm.getStatusVariant(subAgent.status)}},[_vm._v(\" \"+_vm._s(_vm.getStatusText(subAgent.status))+\" \")]),(subAgent.task_id)?_c('small',{staticClass:\"text-muted mr-2\"},[_c('b-icon',{attrs:{\"icon\":\"card-list\"}}),_vm._v(\" 任务ID: \"),_c('b-link',{attrs:{\"to\":`/tasks/${subAgent.task_id}`}},[_vm._v(_vm._s(subAgent.task_id))])],1):_vm._e(),_c('small',{staticClass:\"text-muted mr-2\"},[_c('b-icon',{attrs:{\"icon\":\"clock-history\"}}),_vm._v(\" 运行时长: \"+_vm._s(_vm.formatDuration(subAgent.running_time))+\" \")],1),(subAgent.status !== 'offline' && subAgent.status !== 'canceled')?_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.handleCancelAgent(subAgent.id)}}},[_vm._v(\" 取消 \")]):_vm._e()],1)]),_c('b-card-body',{staticClass:\"py-3\"},[_c('div',{staticClass:\"agent-info-grid\"},[_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"创建时间：\")]),_c('div',[_vm._v(_vm._s(_vm.formatTime(subAgent.created_time)))])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"上次心跳：\")]),_c('div',[_vm._v(_vm._s(_vm.formatTime(subAgent.last_heartbeat_time)))])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"CPU核心数：\")]),_c('div',[_vm._v(_vm._s(subAgent.cpu_cores || 0)+\" 核\")])]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"CPU使用率：\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-progress',{staticClass:\"flex-grow-1 mr-2\",attrs:{\"value\":subAgent.cpu_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(subAgent.cpu_usage || 0),\"height\":\"0.7rem\"}}),_c('span',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(subAgent.cpu_usage || 0)+\"%\")])],1)]),_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"内存使用率：\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-progress',{staticClass:\"flex-grow-1 mr-2\",attrs:{\"value\":subAgent.memory_usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(subAgent.memory_usage || 0),\"height\":\"0.7rem\"}}),_c('span',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(subAgent.memory_usage || 0)+\"%\")])],1)]),(subAgent.monitor_file)?_c('div',{staticClass:\"info-item\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"监控文件：\")]),_c('div',[_vm._v(_vm._s(subAgent.monitor_file))])]):_vm._e()]),(subAgent.gpu_info && subAgent.gpu_info.length > 0)?_c('div',{staticClass:\"resource-section mt-3\"},[_c('h6',{staticClass:\"mb-2\"},[_vm._v(\"GPU资源\")]),_c('b-row',{staticClass:\"gpu-grid\"},_vm._l((subAgent.gpu_info),function(gpu,index){return _c('b-col',{key:index,staticClass:\"mb-2\",attrs:{\"md\":\"6\",\"lg\":\"4\"}},[_c('div',{staticClass:\"gpu-card p-2\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('strong',[_vm._v(\"GPU \"+_vm._s(gpu.gpu_id))])]),_c('div',{staticClass:\"mt-2\"},[_c('small',{staticClass:\"d-block mb-1\"},[_vm._v(\"使用率:\")]),_c('b-progress',{staticClass:\"mb-2\",attrs:{\"value\":gpu.usage || 0,\"max\":100,\"variant\":_vm.getResourceVariant(gpu.usage || 0),\"height\":\"0.6rem\"}},[_c('span',[_vm._v(_vm._s(gpu.usage || 0)+\"%\")])])],1),_c('div',[_c('small',{staticClass:\"d-block mb-1\"},[_vm._v(\"显存:\")]),_c('b-progress',{staticClass:\"mb-1\",attrs:{\"value\":gpu.memory_used || 0,\"max\":gpu.memory_total || 1,\"variant\":\"info\",\"height\":\"0.6rem\"}}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('small',[_vm._v(_vm._s(_vm.formatMemory(gpu.memory_used)))]),_c('small',[_vm._v(_vm._s(_vm.formatMemory(gpu.memory_total)))])])],1)])])}),1)],1):_vm._e()])],1)],1)}),(_vm.getSubAgentsByMainId(agent.id).length === 0)?_c('div',{staticClass:\"text-muted ml-2 mt-2\"},[_c('small',[_vm._v(\"暂无子Agent\")])]):_vm._e()],2)],1)}),0),_c('b-modal',{attrs:{\"id\":\"create-agent-modal\",\"title\":\"创建主Agent\",\"ok-title\":\"创建\",\"cancel-title\":\"取消\",\"ok-disabled\":!_vm.newAgentName || !_vm.newAgentCpuCores},on:{\"ok\":_vm.handleCreateMainAgent}},[_c('b-form-group',{attrs:{\"label\":\"Agent名称\",\"label-for\":\"agent-name\"}},[_c('b-form-input',{attrs:{\"id\":\"agent-name\",\"required\":\"\",\"placeholder\":\"请输入Agent名称\"},model:{value:(_vm.newAgentName),callback:function ($$v) {_vm.newAgentName=$$v},expression:\"newAgentName\"}})],1),_c('b-form-group',{attrs:{\"label\":\"CPU核心数\",\"label-for\":\"cpu-cores\"}},[_c('b-form-input',{attrs:{\"id\":\"cpu-cores\",\"type\":\"number\",\"min\":\"1\",\"required\":\"\",\"placeholder\":\"分配的CPU核心数\"},model:{value:(_vm.newAgentCpuCores),callback:function ($$v) {_vm.newAgentCpuCores=_vm._n($$v)},expression:\"newAgentCpuCores\"}})],1),_c('b-form-group',{attrs:{\"label\":\"GPU ID列表 (可选)\",\"label-for\":\"gpu-ids\",\"description\":\"多个GPU ID使用逗号分隔\"}},[_c('b-form-input',{attrs:{\"id\":\"gpu-ids\",\"placeholder\":\"例如: 0,1,2\"},model:{value:(_vm.newAgentGpuIds),callback:function ($$v) {_vm.newAgentGpuIds=$$v},expression:\"newAgentGpuIds\"}})],1),_c('b-form-group',{attrs:{\"label\":\"监控文件路径 (可选)\",\"label-for\":\"monitor-file\"}},[_c('b-form-input',{attrs:{\"id\":\"monitor-file\",\"placeholder\":\"例如: /path/to/monitor.log\"},model:{value:(_vm.newAgentMonitorFile),callback:function ($$v) {_vm.newAgentMonitorFile=$$v},expression:\"newAgentMonitorFile\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"agent-list\">\n    <h3 class=\"mb-4\">Agent管理</h3>\n    \n    <!-- 刷新按钮和新建主Agent按钮 -->\n    <div class=\"d-flex justify-content-between mb-3\">\n      <b-button \n        variant=\"primary\" \n        size=\"sm\"\n        @click=\"showCreateAgentModal\"\n      >\n        <b-icon icon=\"plus\"></b-icon> 创建主Agent\n      </b-button>\n      \n      <b-button \n        variant=\"outline-primary\" \n        @click=\"refreshAgents\"\n        :disabled=\"loading\"\n      >\n        <b-icon icon=\"arrow-clockwise\" class=\"mr-1\"></b-icon>\n        刷新列表\n      </b-button>\n    </div>\n    \n    <!-- 加载中提示 -->\n    <div v-if=\"loading\" class=\"text-center py-5\">\n      <b-spinner variant=\"primary\" label=\"加载中...\"></b-spinner>\n      <p class=\"mt-2\">加载Agent信息...</p>\n    </div>\n    \n    <!-- 错误提示 -->\n    <b-alert v-if=\"error\" show variant=\"danger\" dismissible>\n      {{ error }}\n    </b-alert>\n    \n    <!-- 无Agent提示 -->\n    <b-alert v-if=\"!loading && mainAgents.length === 0\" show variant=\"info\">\n      暂无Agent信息。您可以创建一个主Agent来开始任务调度系统。\n    </b-alert>\n    \n    <!-- Agent列表 -->\n    <div v-else class=\"agent-tree\">\n      <!-- 主Agent列表 -->\n      <div v-for=\"agent in mainAgents\" :key=\"agent.id\" class=\"mb-5\">\n        <!-- 主Agent卡片 -->\n        <b-card \n          :class=\"['main-agent-card', { 'offline': agent.status === 'offline' }]\"\n          no-body\n        >\n          <b-card-header class=\"d-flex justify-content-between align-items-center py-2\">\n            <div>\n              <b-badge variant=\"primary\" class=\"mr-2\">主</b-badge>\n              <strong>{{ agent.name }}</strong>\n              <span class=\"text-muted ml-2\">(ID: {{ agent.id }})</span>\n            </div>\n            <div>\n              <b-badge \n                :variant=\"getStatusVariant(agent.status)\" \n                class=\"mr-2\"\n              >\n                {{ getStatusText(agent.status) }}\n              </b-badge>\n              <small class=\"text-muted mr-2\">\n                <b-icon icon=\"clock-history\"></b-icon>\n                运行时长: {{ formatDuration(agent.running_time) }}\n              </small>\n              <b-button \n                v-if=\"agent.status !== 'offline' && agent.status !== 'canceled'\"\n                variant=\"outline-danger\" \n                size=\"sm\" \n                class=\"ml-2\"\n                @click=\"handleCancelAgent(agent.id)\"\n              >\n                取消\n              </b-button>\n            </div>\n          </b-card-header>\n          \n          <b-card-body class=\"py-3\">\n            <!-- 基本信息展示区域 -->\n            <div class=\"agent-info-grid mb-3\">\n              <div class=\"info-item\">\n                <small class=\"text-muted\">创建时间：</small>\n                <div>{{ formatTime(agent.created_time) }}</div>\n              </div>\n              <div class=\"info-item\">\n                <small class=\"text-muted\">上次心跳：</small>\n                <div>{{ formatTime(agent.last_heartbeat_time) }}</div>\n              </div>\n              <div class=\"info-item\">\n                <small class=\"text-muted\">CPU核心数：</small>\n                <div>{{ agent.cpu_cores || 0 }} 核 (可用: {{ agent.available_cpu_cores || 0 }} 核)</div>\n              </div>\n              <div class=\"info-item\">\n                <small class=\"text-muted\">CPU使用率：</small>\n                <div class=\"d-flex align-items-center\">\n                  <b-progress \n                    :value=\"agent.cpu_usage || 0\" \n                    :max=\"100\" \n                    class=\"flex-grow-1 mr-2\"\n                    :variant=\"getResourceVariant(agent.cpu_usage || 0)\"\n                    height=\"0.7rem\"\n                  ></b-progress>\n                  <span class=\"text-nowrap\">{{ agent.cpu_usage || 0 }}%</span>\n                </div>\n              </div>\n              <div class=\"info-item\">\n                <small class=\"text-muted\">内存使用率：</small>\n                <div class=\"d-flex align-items-center\">\n                  <b-progress \n                    :value=\"agent.memory_usage || 0\" \n                    :max=\"100\" \n                    class=\"flex-grow-1 mr-2\"\n                    :variant=\"getResourceVariant(agent.memory_usage || 0)\"\n                    height=\"0.7rem\"\n                  ></b-progress>\n                  <span class=\"text-nowrap\">{{ agent.memory_usage || 0 }}%</span>\n                </div>\n              </div>\n              <div class=\"info-item\" v-if=\"agent.monitor_file\">\n                <small class=\"text-muted\">监控文件：</small>\n                <div>{{ agent.monitor_file }}</div>\n              </div>\n            </div>\n            \n            <!-- GPU资源展示 -->\n            <div class=\"resource-section\" v-if=\"agent.gpu_info && agent.gpu_info.length > 0\">\n              <h6 class=\"mb-2\">GPU资源</h6>\n              <b-row class=\"gpu-grid\">\n                <b-col md=\"6\" lg=\"4\" v-for=\"(gpu, index) in agent.gpu_info\" :key=\"index\" class=\"mb-2\">\n                  <div class=\"gpu-card p-2\">\n                    <div class=\"d-flex justify-content-between\">\n                      <strong>GPU {{ gpu.gpu_id }}</strong>\n                      <b-badge \n                        :variant=\"gpu.is_available ? 'success' : 'secondary'\"\n                      >\n                        {{ gpu.is_available ? '可用' : '使用中' }}\n                      </b-badge>\n                    </div>\n                    <div class=\"mt-2\">\n                      <small class=\"d-block mb-1\">使用率:</small>\n                      <b-progress \n                        :value=\"gpu.usage || 0\" \n                        :max=\"100\" \n                        :variant=\"getResourceVariant(gpu.usage || 0)\"\n                        class=\"mb-2\"\n                        height=\"0.6rem\"\n                      >\n                        <span>{{ gpu.usage || 0 }}%</span>\n                      </b-progress>\n                    </div>\n                    <div>\n                      <small class=\"d-block mb-1\">显存:</small>\n                      <b-progress \n                        :value=\"gpu.memory_used || 0\" \n                        :max=\"gpu.memory_total || 1\" \n                        variant=\"info\"\n                        class=\"mb-1\"\n                        height=\"0.6rem\"\n                      ></b-progress>\n                      <div class=\"d-flex justify-content-between\">\n                        <small>{{ formatMemory(gpu.memory_used) }}</small>\n                        <small>{{ formatMemory(gpu.memory_total) }}</small>\n                      </div>\n                    </div>\n                  </div>\n                </b-col>\n              </b-row>\n            </div>\n          </b-card-body>\n        </b-card>\n        \n        <!-- 子Agent列表 -->\n        <div class=\"sub-agents ml-4 mt-3\">\n          <div \n            v-for=\"subAgent in getSubAgentsByMainId(agent.id)\" \n            :key=\"subAgent.id\" \n            class=\"mb-3\"\n          >\n            <b-card \n              :class=\"['sub-agent-card', { 'offline': subAgent.status === 'offline' }]\"\n              no-body\n            >\n              <b-card-header class=\"d-flex justify-content-between align-items-center py-2\">\n                <div>\n                  <b-badge variant=\"info\" class=\"mr-2\">子</b-badge>\n                  <strong>{{ subAgent.name }}</strong>\n                  <span class=\"text-muted ml-2\">(ID: {{ subAgent.id }})</span>\n                </div>\n                <div>\n                  <b-badge \n                    :variant=\"getStatusVariant(subAgent.status)\" \n                    class=\"mr-2\"\n                  >\n                    {{ getStatusText(subAgent.status) }}\n                  </b-badge>\n                  <small v-if=\"subAgent.task_id\" class=\"text-muted mr-2\">\n                    <b-icon icon=\"card-list\"></b-icon>\n                    任务ID: <b-link :to=\"`/tasks/${subAgent.task_id}`\">{{ subAgent.task_id }}</b-link>\n                  </small>\n                  <small class=\"text-muted mr-2\">\n                    <b-icon icon=\"clock-history\"></b-icon>\n                    运行时长: {{ formatDuration(subAgent.running_time) }}\n                  </small>\n                  <b-button \n                    v-if=\"subAgent.status !== 'offline' && subAgent.status !== 'canceled'\"\n                    variant=\"outline-danger\" \n                    size=\"sm\" \n                    class=\"ml-2\"\n                    @click=\"handleCancelAgent(subAgent.id)\"\n                  >\n                    取消\n                  </b-button>\n                </div>\n              </b-card-header>\n              \n              <b-card-body class=\"py-3\">\n                <!-- 基本信息展示区域 -->\n                <div class=\"agent-info-grid\">\n                  <div class=\"info-item\">\n                    <small class=\"text-muted\">创建时间：</small>\n                    <div>{{ formatTime(subAgent.created_time) }}</div>\n                  </div>\n                  <div class=\"info-item\">\n                    <small class=\"text-muted\">上次心跳：</small>\n                    <div>{{ formatTime(subAgent.last_heartbeat_time) }}</div>\n                  </div>\n                  <div class=\"info-item\">\n                    <small class=\"text-muted\">CPU核心数：</small>\n                    <div>{{ subAgent.cpu_cores || 0 }} 核</div>\n                  </div>\n                  <div class=\"info-item\">\n                    <small class=\"text-muted\">CPU使用率：</small>\n                    <div class=\"d-flex align-items-center\">\n                      <b-progress \n                        :value=\"subAgent.cpu_usage || 0\" \n                        :max=\"100\" \n                        class=\"flex-grow-1 mr-2\"\n                        :variant=\"getResourceVariant(subAgent.cpu_usage || 0)\"\n                        height=\"0.7rem\"\n                      ></b-progress>\n                      <span class=\"text-nowrap\">{{ subAgent.cpu_usage || 0 }}%</span>\n                    </div>\n                  </div>\n                  <div class=\"info-item\">\n                    <small class=\"text-muted\">内存使用率：</small>\n                    <div class=\"d-flex align-items-center\">\n                      <b-progress \n                        :value=\"subAgent.memory_usage || 0\" \n                        :max=\"100\" \n                        class=\"flex-grow-1 mr-2\"\n                        :variant=\"getResourceVariant(subAgent.memory_usage || 0)\"\n                        height=\"0.7rem\"\n                      ></b-progress>\n                      <span class=\"text-nowrap\">{{ subAgent.memory_usage || 0 }}%</span>\n                    </div>\n                  </div>\n                  <div class=\"info-item\" v-if=\"subAgent.monitor_file\">\n                    <small class=\"text-muted\">监控文件：</small>\n                    <div>{{ subAgent.monitor_file }}</div>\n                  </div>\n                </div>\n                \n                <!-- GPU资源展示 -->\n                <div class=\"resource-section mt-3\" v-if=\"subAgent.gpu_info && subAgent.gpu_info.length > 0\">\n                  <h6 class=\"mb-2\">GPU资源</h6>\n                  <b-row class=\"gpu-grid\">\n                    <b-col md=\"6\" lg=\"4\" v-for=\"(gpu, index) in subAgent.gpu_info\" :key=\"index\" class=\"mb-2\">\n                      <div class=\"gpu-card p-2\">\n                        <div class=\"d-flex justify-content-between\">\n                          <strong>GPU {{ gpu.gpu_id }}</strong>\n                        </div>\n                        <div class=\"mt-2\">\n                          <small class=\"d-block mb-1\">使用率:</small>\n                          <b-progress \n                            :value=\"gpu.usage || 0\" \n                            :max=\"100\" \n                            :variant=\"getResourceVariant(gpu.usage || 0)\"\n                            class=\"mb-2\"\n                            height=\"0.6rem\"\n                          >\n                            <span>{{ gpu.usage || 0 }}%</span>\n                          </b-progress>\n                        </div>\n                        <div>\n                          <small class=\"d-block mb-1\">显存:</small>\n                          <b-progress \n                            :value=\"gpu.memory_used || 0\" \n                            :max=\"gpu.memory_total || 1\" \n                            variant=\"info\"\n                            class=\"mb-1\"\n                            height=\"0.6rem\"\n                          ></b-progress>\n                          <div class=\"d-flex justify-content-between\">\n                            <small>{{ formatMemory(gpu.memory_used) }}</small>\n                            <small>{{ formatMemory(gpu.memory_total) }}</small>\n                          </div>\n                        </div>\n                      </div>\n                    </b-col>\n                  </b-row>\n                </div>\n              </b-card-body>\n            </b-card>\n          </div>\n          \n          <div v-if=\"getSubAgentsByMainId(agent.id).length === 0\" class=\"text-muted ml-2 mt-2\">\n            <small>暂无子Agent</small>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 创建主Agent弹窗 -->\n    <b-modal\n      id=\"create-agent-modal\"\n      title=\"创建主Agent\"\n      ok-title=\"创建\"\n      cancel-title=\"取消\"\n      @ok=\"handleCreateMainAgent\"\n      :ok-disabled=\"!newAgentName || !newAgentCpuCores\"\n    >\n      <b-form-group\n        label=\"Agent名称\"\n        label-for=\"agent-name\"\n      >\n        <b-form-input\n          id=\"agent-name\"\n          v-model=\"newAgentName\"\n          required\n          placeholder=\"请输入Agent名称\"\n        ></b-form-input>\n      </b-form-group>\n      \n      <b-form-group\n        label=\"CPU核心数\"\n        label-for=\"cpu-cores\"\n      >\n        <b-form-input\n          id=\"cpu-cores\"\n          v-model.number=\"newAgentCpuCores\"\n          type=\"number\"\n          min=\"1\"\n          required\n          placeholder=\"分配的CPU核心数\"\n        ></b-form-input>\n      </b-form-group>\n      \n      <b-form-group\n        label=\"GPU ID列表 (可选)\"\n        label-for=\"gpu-ids\"\n        description=\"多个GPU ID使用逗号分隔\"\n      >\n        <b-form-input\n          id=\"gpu-ids\"\n          v-model=\"newAgentGpuIds\"\n          placeholder=\"例如: 0,1,2\"\n        ></b-form-input>\n      </b-form-group>\n      \n      <b-form-group\n        label=\"监控文件路径 (可选)\"\n        label-for=\"monitor-file\"\n      >\n        <b-form-input\n          id=\"monitor-file\"\n          v-model=\"newAgentMonitorFile\"\n          placeholder=\"例如: /path/to/monitor.log\"\n        ></b-form-input>\n      </b-form-group>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex'\nimport moment from 'moment'\n\nexport default {\n  name: 'AgentList',\n  \n  data() {\n    return {\n      newAgentName: '',\n      newAgentCpuCores: 1,\n      newAgentGpuIds: '',\n      newAgentMonitorFile: '',\n      pollingEnabled: true\n    }\n  },\n  \n  computed: {\n    ...mapState('agents', ['loading', 'error']),\n    ...mapGetters('agents', ['mainAgents', 'subAgents']),\n    \n    // 通过函数获取指定主Agent的子Agent\n    getSubAgentsByMainId() {\n      return (mainAgentId) => {\n        return this.subAgents.filter(agent => agent.main_agent_id === mainAgentId)\n      }\n    }\n  },\n  \n  methods: {\n    ...mapActions('agents', [\n      'fetchAgents', \n      'createMainAgent', \n      'cancelAgent'\n    ]),\n    \n    // 刷新Agent列表\n    async refreshAgents() {\n      try {\n        await this.fetchAgents()\n      } catch (error) {\n        this.$bvToast.toast('获取Agent列表失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 创建主Agent\n    async handleCreateMainAgent() {\n      if (!this.newAgentName || !this.newAgentCpuCores) {\n        return\n      }\n      \n      // 解析GPU ID\n      const gpuIds = this.newAgentGpuIds\n        ? this.newAgentGpuIds.split(',').map(id => id.trim())\n        : []\n      \n      try {\n        await this.createMainAgent({\n          name: this.newAgentName,\n          cpu_cores: this.newAgentCpuCores,\n          gpu_ids: gpuIds,\n          monitor_file: this.newAgentMonitorFile || null\n        })\n        \n        this.$bvToast.toast('主Agent创建成功', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        })\n        \n        // 重置表单\n        this.newAgentName = ''\n        this.newAgentCpuCores = 1\n        this.newAgentGpuIds = ''\n        this.newAgentMonitorFile = ''\n        \n        // 关闭弹窗\n        this.$bvModal.hide('create-agent-modal')\n      } catch (error) {\n        this.$bvToast.toast('创建主Agent失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 取消Agent\n    async handleCancelAgent(agentId) {\n      try {\n        await this.$bvModal.msgBoxConfirm('确定要取消此Agent吗？这将停止其所有任务。', {\n          title: '确认取消',\n          okVariant: 'danger',\n          okTitle: '确认',\n          cancelTitle: '取消'\n        })\n        \n        await this.cancelAgent(agentId)\n        \n        this.$bvToast.toast('Agent已取消', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        })\n      } catch (error) {\n        if (error === false) return // 用户取消操作\n        \n        this.$bvToast.toast('取消Agent失败', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 显示创建Agent弹窗\n    showCreateAgentModal() {\n      this.$bvModal.show('create-agent-modal')\n    },\n    \n    // 格式化状态为文本\n    getStatusText(status) {\n      const statusMap = {\n        'online': '在线',\n        'offline': '离线',\n        'busy': '忙碌',\n        'idle': '空闲',\n        'starting': '启动中',\n        'canceled': '已取消'\n      }\n      return statusMap[status] || status\n    },\n    \n    // 获取状态对应的样式\n    getStatusVariant(status) {\n      const variantMap = {\n        'online': 'success',\n        'offline': 'secondary',\n        'busy': 'warning',\n        'idle': 'info',\n        'starting': 'primary',\n        'canceled': 'danger'\n      }\n      return variantMap[status] || 'secondary'\n    },\n    \n    // 获取资源使用率对应的样式\n    getResourceVariant(usage) {\n      if (usage >= 90) return 'danger'\n      if (usage >= 70) return 'warning'\n      return 'success'\n    },\n    \n    // 格式化运行时长\n    formatDuration(seconds) {\n      if (!seconds) return '0秒'\n      \n      const duration = moment.duration(seconds, 'seconds')\n      const days = duration.days()\n      const hours = duration.hours()\n      const minutes = duration.minutes()\n      const secs = duration.seconds()\n      \n      let result = ''\n      if (days > 0) result += `${days}天 `\n      if (hours > 0) result += `${hours}小时 `\n      if (minutes > 0) result += `${minutes}分钟 `\n      if (secs > 0 && days === 0 && hours === 0) result += `${secs}秒`\n      \n      return result.trim()\n    },\n    \n    // 格式化日期时间\n    formatTime(timestamp) {\n      if (!timestamp) return '未知'\n      return moment(timestamp).format('YYYY-MM-DD HH:mm:ss')\n    },\n    \n    // 格式化内存大小\n    formatMemory(bytes) {\n      if (!bytes) return '0 MB'\n      if (bytes < 1024) return `${bytes} MB`\n      return `${(bytes / 1024).toFixed(1)} GB`\n    },\n    \n    // 启动Agent状态轮询\n    startPolling() {\n      const poll = () => {\n        if (!this.pollingEnabled) return\n        \n        this.refreshAgents()\n          .finally(() => {\n            this.pollingTimeout = setTimeout(poll, 5000)\n          })\n      }\n      \n      this.pollingTimeout = setTimeout(poll, 5000)\n    }\n  },\n  \n  created() {\n    // 获取Agent列表\n    this.refreshAgents()\n    \n    // 启动轮询\n    this.startPolling()\n  },\n  \n  beforeDestroy() {\n    // 清除轮询\n    if (this.pollingTimeout) {\n      clearTimeout(this.pollingTimeout)\n    }\n    this.pollingEnabled = false\n  }\n}\n</script>\n\n<style scoped>\n.agent-tree {\n  margin-top: 20px;\n}\n\n.main-agent-card {\n  border-left: 4px solid #007bff;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.sub-agent-card {\n  border-left: 3px solid #17a2b8;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n}\n\n.offline {\n  opacity: 0.7;\n  border-left-color: #6c757d;\n}\n\n.resource-section {\n  background-color: #f8f9fa;\n  padding: 10px;\n  border-radius: 4px;\n}\n\n.agent-info-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 15px;\n}\n\n@media (max-width: 992px) {\n  .agent-info-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .agent-info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n.info-item {\n  margin-bottom: 5px;\n}\n\n.gpu-card {\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #eee;\n  height: 100%;\n}\n\n.gpu-grid {\n  margin: 0 -5px;\n}\n\n.gpu-grid .col {\n  padding: 0 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AgentList.vue?vue&type=template&id=1dea5248&scoped=true\"\nimport script from \"./AgentList.vue?vue&type=script&lang=js\"\nexport * from \"./AgentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AgentList.vue?vue&type=style&index=0&id=1dea5248&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dea5248\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=style&index=0&id=1dea5248&prod&scoped=true&lang=css\""],"sourceRoot":""}